---
layout:     post
title:      "Java多线程面试题目"
date:       2015-07-27
---

<style type="text/css">
p{
	text-indent: 2em;
}
.post img {
  margin-bottom: 0rem;
}
</style>

<p class="intro">
	<span class="dropcap">面试中</span>开发者精通多线程技术并且有丰富的Java程序开发、调试、优化经验，所以线程相关的问题在面试中经常会被提到。
</p>

----------
###1）什么是线程？
* 线程，是程序执行流的最小单元。一个标准的线程由线程ID,当前指令指针(PC),寄存器集合和堆栈(Stack)组成。
* 线程是进程重点额一个实体，是被系统独立调度和分派的基本单位，线程自己不拥有系统资源，只拥有一点在运行中比不可少的资源，但它可与同属一个进程的其他线程共享进程所拥有的资源。

###2）线程和进程的区别？
* **调度：**在传统操作系统中，拥有资源和独立调度的基本单位都是进程。引入线程后，线程是独立调度的基本单位，进程是拥有资源的基本单位。在同一进程中，线程的切换不会引起进程的切换。在不同进程中进行线程切换，则会引起进程切换。
* **拥有资源：**不论是传统的还是引入线程的操作系统，进程都是拥有资源的基本单位，线程不拥有资源，但线程可以共享其隶属进程的系统资源。
* **并发性：**在引入线程的操作系统中，不仅进程可以可以并发执行，而且同一进程内的多个线程也可以并发执行，从而使操作系统具有更好的并发性，大大提高了系统吞吐量。
* **系统开销：**创建和撤销进程时，系统都要位置分配或回收资源，如内存空间，I/O 设备等，因此操作系统所付出的开销远大于创建或撤销线程的开销。
* **地址空间和其他资源：**进程的地址空间之间相互独立，同一进程的各线程之间共享进程的资源，某进程内的线程对于其他进程不可见。
* **通信方面：**进程间通信需要借助操作系统，而线程间可以直接读写进程数据段来进行通信。


###3）如何在Java中实现线程？
* 继承java.lang.Thrad类
* 实现java.lang.Runnable接口重写run()方法


###4）用Runnable还是Thread？
* Java不支持类的多重继承，但允许你调用多个接口。所以如果你要继承其他类，当然是调用Runnable接口好了。


###5）Thread类中的start()和run()方法有什么区别？
* start()方法被用来启动新创建的线程，而且start()内部调用了run()方法，这和直接调用run()方法的效果不一样。
* 当你调用run()方法的时候，只会是在原来的线程中调用，没有新的线程启动，start()方法才会启动新线程。


###6）Java中Runnable和Callable有什么不同？
Runnable和Callable都代表那些要在不同的线程中执行的任务。Runnable从JDK1.0开始就有了，Callable是在JDK1.5增加的。

* 它们的主要区别是Callable的 call() 方法可以返回值和抛出异常，而Runnable的run()方法没有这些功能。
* Callable可以返回装载有计算结果的Future对象。

###7)Java中CyclicBarrier 和 CountDownLatch有什么不同？
CyclicBarrier 和 CountDownLatch 都可以用来让一组线程等待其它线程。与 CyclicBarrier 不同的是，CountdownLatch 不能重新使用。

###8)Java内存模型是什么？
Java内存模型规定和指引Java程序在不同的内存架构、CPU和操作系统间有确定性地行为。它在多线程的情况下尤其重要。Java内存模型对一个线程所做的变动能被其它线程可见提供了保证，它们之间是先行发生关系。这个关系定义了一些规则让程序员在并发编程时思路更清晰。比如，先行发生关系确保了：

* 线程内的代码能够按先后顺序执行，这被称为程序次序规则。
* 对于同一个锁，一个解锁操作一定要发生在时间上后发生的另一个锁定操作之前，也叫做管程锁定规则。
* 前一个对volatile的写操作在后一个volatile的读操作之前，也叫volatile变量规则。
* 一个线程内的任何操作必需在这个线程的start()调用之后，也叫作线程启动规则。
* 一个线程的所有操作都会在线程终止之前，线程终止规则。
* 一个对象的终结操作必需在这个对象构造完成之后，也叫对象终结规则。
* 可传递性

###9）Java中的volatile变量是什么？
volatile是一个特殊的修饰符，只有成员变量才能使用它。在Java并发程序缺少同步类的情况下，多线程对成员变量的操作对其他线程是透明的。volatile变量可以保证下一个读取操作会在前一个写操作之后发生，就是上一题的volatile变量规则。

###10）什么是线程安全？Vector是一个线程安全类吗？
如果你的代码所在的进程中有多个线程在同时运行，而这些线程可能会同时运行这段代码。如果每次运行结果和单线程运行的结果是一样的，而且其他的变量的值也和预期的是一样的，就是线程安全的。一个线程安全的计数器类的同一个实例对象在被多个线程使用的情况下也不会出现计算失误。很显然你可以将集合类分成两组，线程安全和非线程安全的。<br/>

Vector 是用同步方法来实现线程安全的, 而和它相似的ArrayList不是线程安全的。